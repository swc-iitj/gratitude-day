(this["webpackJsonpgratitude-day"]=this["webpackJsonpgratitude-day"]||[]).push([[0],{130:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(14),i=a.n(c),s=(a(73),a(24)),o=a(9),l=a(232),j=a(233),d=a(231),h=a(228),m=a.p+"static/media/swc.a5128a9c.png",b=a(2),x=function(){return Object(b.jsx)("div",{children:Object(b.jsx)(l.a,{maxWidth:"md",component:"main",children:Object(b.jsxs)(j.a,{sx:{paddingTop:10,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[Object(b.jsxs)(d.a,{container:!0,direction:"row",justifyContent:"space-around",alignItems:"center",spacing:2,children:[Object(b.jsx)(d.a,{item:!0,children:Object(b.jsx)("h1",{style:{fontSize:"4em"},children:"Gratitude Day 2022"})}),Object(b.jsx)(d.a,{item:!0,children:Object(b.jsx)("img",{src:m,style:{maxHeight:"300px"}})})]}),Object(b.jsxs)(d.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:2,children:[Object(b.jsx)(d.a,{item:!0,children:Object(b.jsx)(h.a,{color:"primary",to:"/createPostCard",variant:"contained",component:s.b,style:{minWidth:"200px",minHeight:"50px",textTransform:"none",fontSize:"1em",backgroundColor:"#3f51b5"},children:Object(b.jsx)("h1",{style:{fontSize:"1.5em",color:"white",margin:"0"},children:"Write a Postcard"})})}),Object(b.jsx)(d.a,{item:!0,children:Object(b.jsx)(h.a,{color:"primary",to:"/memorywall",variant:"contained",component:s.b,style:{minWidth:"200px",minHeight:"50px",textTransform:"none",fontSize:"1em",backgroundColor:"#3f51b5"},children:Object(b.jsx)("h1",{style:{fontSize:"1.5em",color:"white",margin:"0"},children:"To Memory Wall"})})})]})]})})})},u=a(12),O=(a(130),a(108)),p=a.n(O),g=a(107),f=a.n(g),v=a(78),y=a.n(v),w=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(""),i=Object(u.a)(c,2),s=i[0],o=i[1],l=Object(r.useState)(""),j=Object(u.a)(l,2),d=(j[0],j[1]),h=Object(r.useState)([]),m=Object(u.a)(h,2),x=m[0],O=m[1],g=x,v={apiKey:"AIzaSyB2XspoxlMj1n0N__mLFsDXIMkO8Ny6fjI",sheetId:"1R5KSpWBfExHabHNEvmZq0LY8FbiOItxkgGWzY1AvqkY",sheetNumber:1,sheetName:"Form Responses 1",returnAllResults:!0};return Object(r.useEffect)((function(){f()(v,(function(e){var t=[];e.map((function(e){var a={id:0,src:"https://drive.google.com/uc?export=download&id="+e["Add your memory"].replace("https://drive.google.com/open?id=",""),cap:e["Any caption for your memory (optional)"],width:1,height:1};t.push(a)})),O(t)})).catch((function(e){console.log(e)}))}),[]),Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{style:{backgroundSize:"100%"},children:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:a?"model open":"model",children:[Object(b.jsx)("img",{src:s,style:{margin:"0"}}),Object(b.jsx)(p.a,{onClick:function(){return n(!1)},style:{cursor:"pointer"}})]}),Object(b.jsx)("div",{className:"gallery",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row",children:g.map((function(e,t){return Object(b.jsx)("div",{onClick:function(){return t=e.src,a=e.cap,o(t),d(a),void n(!0);var t,a},children:Object(b.jsx)("div",{children:e.cap?Object(b.jsx)(y.a,{imgSrc:e.src,text:"#"+e.cap,zoom:"scale(1.1)"}):Object(b.jsx)(y.a,{imgSrc:e.src,zoom:"scale(1.1)"})})},t)}))})})})]})})})},k=a(219),S=a(46),C=a(223),N=a(224),z=a(225),A=a(226),F=a(229),W=a(220),P=a(221),_=a(234),I=a(222),R=a(109),L=a.n(R),H=Object(k.a)((function(){return{link:{textDecoration:"none",color:"blue",fontSize:"20px"},icon:{color:"white"}}}));var D=function(){var e=H(),t=Object(r.useState)(!1),a=Object(u.a)(t,2),n=a[0],c=a[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(F.a,{open:n,onClose:function(){return c(!1)},children:Object(b.jsxs)(W.a,{children:[Object(b.jsx)(P.a,{onClick:function(){return c(!1)},children:Object(b.jsx)(_.a,{children:Object(b.jsx)(s.b,{to:"/",className:e.link,children:Object(b.jsx)("h1",{style:{color:"#3f51b5",fontSize:"1.2em"},children:"Home"})})})}),Object(b.jsx)(P.a,{onClick:function(){return c(!1)},children:Object(b.jsx)(_.a,{children:Object(b.jsx)(s.b,{to:"/createPostCard",className:e.link,children:Object(b.jsx)("h1",{style:{color:"#3f51b5",fontSize:"1.2em"},children:"Write a Postcard"})})})}),Object(b.jsx)(P.a,{onClick:function(){return c(!1)},children:Object(b.jsx)(_.a,{children:Object(b.jsx)(s.b,{to:"/memorywall",className:e.link,children:Object(b.jsx)("h1",{style:{color:"#3f51b5",fontSize:"1.2em"},children:"Memory Wall"})})})})]})}),Object(b.jsx)(I.a,{style:{marginLeft:"auto"},onClick:function(){return c(!n)},children:Object(b.jsx)(L.a,{className:e.icon})})]})},M=Object(k.a)((function(e){return{navlinks:{marginLeft:"auto",marginRight:"0",display:"flex"},logo:{flexGrow:"1",cursor:"pointer"},link:{textDecoration:"none",color:"white",fontSize:"20px",marginLeft:"30px",alignSelf:"center","&:hover":{color:"yellow"}}}}));var q=function(){var e=M(),t=Object(S.a)(),a=Object(C.a)(t.breakpoints.down("sm"));return Object(b.jsxs)(N.a,{position:"static",children:[Object(b.jsx)(z.a,{}),Object(b.jsxs)(A.a,{children:[Object(b.jsx)("h1",{style:{color:"white"},children:"Gratitude Day 2022"}),a?Object(b.jsx)(D,{}):Object(b.jsxs)("div",{className:e.navlinks,children:[Object(b.jsx)(s.b,{to:"/",className:e.link,children:Object(b.jsx)("h1",{style:{color:"white",fontSize:"1.2em"},children:"Home"})}),Object(b.jsx)(s.b,{to:"/createPostCard",className:e.link,children:Object(b.jsx)("h1",{style:{color:"white",fontSize:"1.2em"},children:"Write a Postcard"})}),Object(b.jsx)(s.b,{to:"/memorywall",className:e.link,children:Object(b.jsx)("h1",{style:{color:"white",fontSize:"1.2em"},children:"Memory Wall"})})]})]})]})},J=a(227),E=function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)(q,{}),Object(b.jsx)("h1",{style:{textAlign:"center"},children:"\ud83d\uddbc\ufe0f Memory Wall"}),Object(b.jsx)(J.a,{color:"primary",variant:"contained",style:{textTransform:"none",fontSize:"1em",backgroundColor:"#3f51b5",marginLeft:"10px"},onClick:function(){return window.open("https://forms.gle/uHrvwQEqQjUCiqh48")},children:Object(b.jsx)("h1",{style:{fontSize:"1.5em",color:"white",margin:"0"},children:"\ud83d\udcf8 Add a Memory"})}),Object(b.jsx)(w,{})]})},T=a(110),G=a(79),B=a(7),U=a(66),Y=a(37),K=a(111),Q=a(114),X=a(55),V=a.n(X),Z=a(115),$=a(112),ee="https://swc.prometeo.in",te=a.n($).a.create({baseURL:"".concat(ee,"/api")});a(177);function ae(e){var t=e.mail,a=e.message,r=e.images;return Object(b.jsxs)("div",{class:"wrapper",children:[Object(b.jsxs)("div",{class:"wrapper-inner",children:[Object(b.jsx)("table",{class:"outer-table"}),Object(b.jsx)("table",{class:"border-top"}),Object(b.jsx)("table",{class:"main-table-first",children:Object(b.jsx)("tr",{children:Object(b.jsxs)("td",{class:"two-column",children:[Object(b.jsx)("div",{class:"prev-section",children:Object(b.jsx)("img",{src:"https://i.imgur.com/EJLPkd8.png",height:"",alt:"alt_text",border:"0",style:{width:"100%",maxWidth:"200px",fontFamily:"sans-serif",color:"#555555",display:"block",transform:"rotate(90deg)"}})}),Object(b.jsx)("div",{class:"prev-section",children:Object(b.jsx)("img",{src:"https://i.imgur.com/JJgRlI0.png",height:"",alt:"alt_text",border:"0",style:{width:"200%",height:"auto",fontFamily:"sans-serif",color:"#555555",display:"block",marginTop:"25px"}})}),Object(b.jsx)("p",{style:{fontSize:"x-large",fontFamily:"Gabriola",textAlign:"start",padding:"10%",whiteSpace:"pre-wrap"},children:a}),r.map((function(e){return Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:"".concat(ee,"/media/postcard_images/").concat(e),height:"auto",alt:"alt_text",border:"0",style:{marginLeft:"auto",marginRight:"auto",marginBottom:20,maxWidth:500}})})})),Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:"https://i.imgur.com/EJLPkd8.png",height:"",alt:"alt_text",border:"0",style:{width:"100%",maxWidth:"200px",fontFamily:"sans-serif",color:"#555555",display:"block",textAlign:"right",float:"right",transform:"rotate(270deg)"}})})]})})})]}),Object(b.jsxs)("p",{className:"preview-text",children:["Preview ",Object(b.jsx)("br",{}),"This is how ",t||"(s)he"," will receive the gratitude...\ud83d\ude48"]})]})}var re=function(e){Object(K.a)(a,e);var t=Object(Q.a)(a);function a(){var e;return Object(U.a)(this,a),(e=t.call(this)).handleChange=function(t){e.setState(Object(B.a)({},t.target.id,t.target.value))},e.getHash=function(){var e=Object(G.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map((function(e){var t=new FormData;return t.append("image",e,e.name),te.post("".concat(ee,"/api/add_image/"),t).then((function(e){return e.data.split("/")[3]}))}))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.handleImageChange=function(t){var a=t.target.files,r=e.state.images;e.getHash(Array.from(a)).then((function(t){return e.setState({images:r.concat(t)})}))},e.submitPostData=Object(G.a)(V.a.mark((function t(){var a,r,n,c,i,s;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.state,r=a.message,n=a.mail,c=a.images,i={message:r,mail:n,images:c.join(",")},s=e.recaptchaRef.current.getValue(),e.setState({error:n?r.length||c.length?s?"":"Sorry, we are not taking response from robots yet!":"Atleast one of the message/images field is required":"Receiver's mail is required."},(function(){e.state.error||e.setState({loading:!0},(function(){te.post("".concat(ee,"/api/add_post/"),i).then((function(){e.clearForm(),e.setState({completed:!0})})).catch((function(t){var a;e.setState({error:null!==(a=null===t||void 0===t?void 0:t.message)&&void 0!==a?a:t}),alert(t)})).finally((function(){return e.setState({loading:!1})}))}))}));case 4:case"end":return t.stop()}}),t)}))),e.clearForm=function(){e.setState({mail:"",message:"",error:"",loading:!1,images:[]})},e.state={mail:"",message:"",error:"",loading:!1,images:[]},e.hiddenFileInput=n.a.createRef(null),e.recaptchaRef=n.a.createRef(null),e}return Object(Y.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.mail,r=t.error,n=t.message,c=t.loading,i=t.images,s=t.completed;return Object(b.jsxs)(b.Fragment,{children:[s?Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:"preview-text",children:"You have posted your gratitude, leave the rest to us... \ud83e\udd73"}),Object(b.jsx)("button",{className:"btn",onClick:function(t){e.setState({completed:!1})},children:"Write another one"})]}):Object(b.jsxs)("div",{className:"form-page",children:[Object(b.jsxs)("div",{id:"form",children:[Object(b.jsxs)("div",{className:"card",children:[Object(b.jsx)("input",{required:!0,type:"email",autoComplete:"off",id:"mail",value:a,onChange:this.handleChange,placeholder:"Receiver's mail"}),Object(b.jsx)("div",{className:"divider"}),Object(b.jsx)("textarea",{type:"text",id:"message",autoComplete:"off",value:n,onChange:this.handleChange,placeholder:"Pour your heart out!"})]}),Object(b.jsx)("label",{htmlFor:"image",id:"img-button",children:"Upload Images"}),Object(b.jsxs)("p",{children:["Want to add a group photo or a handwritten letter?",Object(b.jsx)("br",{}),"We got you covered \ud83d\ude09"]}),Object(b.jsx)("input",{type:"file",id:"image",accept:"image/*",multiple:!0,ref:this.hiddenFileInput,onChange:this.handleImageChange,hidden:!0}),Object(b.jsx)("div",{className:"row flex center",style:{margin:"2rem 0"},children:i.map((function(e){return Object(b.jsx)("img",{src:"".concat(ee,"/media/postcard_images/").concat(e),alt:e,style:{margin:"0 2rem",height:200}})}))}),Object(b.jsx)("div",{className:"divider"}),Object(b.jsx)(Z.a,{sitekey:"6Lfvp_QeAAAAAAwLMRygatxPlaU5P_PmpiHmXtKl",onChange:this.recaptcha,ref:this.recaptchaRef}),r&&Object(b.jsx)("p",{id:"error-para",children:r}),Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{id:"submit",disabled:c,onClick:this.submitPostData,children:"Send"}),Object(b.jsx)("button",{id:"clear",onClick:this.clearForm,children:"Clear"})]}),Object(b.jsx)("div",{className:"divider"})]}),Object(b.jsx)(ae,Object(T.a)({},this.state))]}),Object(b.jsxs)("p",{className:"preview-text",children:["For assistance/queries reachout to"," ",Object(b.jsx)("a",{href:"mailto:raghav.1@iitj.ac.in",target:"_blank",rel:"noreferrer",children:"Abhishek,"})," ",Object(b.jsx)("a",{href:"mailto:jain.53@iitj.ac.in",target:"_blank",rel:"noreferrer",children:"Akshat,"})," ",Object(b.jsx)("a",{href:"mailto:dutta.4@iitj.ac.in",target:"_blank",rel:"noreferrer",children:"Jahnab,"})," ","and"," ",Object(b.jsx)("a",{href:"mailto:thomas.2@iitj.ac.in",target:"_blank",rel:"noreferrer",children:"Joel"})," "]})]})}}]),a}(r.Component),ne=re;var ce=function(){return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(q,{}),Object(b.jsx)("h1",{children:"\u270d\ufe0f Write a Postcard"}),Object(b.jsx)(ne,{})]})},ie=function(){return Object(b.jsx)(s.a,{children:Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{exact:!0,path:"/",element:Object(b.jsx)(x,{})}),Object(b.jsx)(o.a,{exact:!0,path:"memorywall/",element:Object(b.jsx)(E,{})}),Object(b.jsx)(o.a,{exact:!0,path:"createPostCard/",element:Object(b.jsx)(ce,{})})]})})};i.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(ie,{})}),document.getElementById("root"))},73:function(e,t,a){}},[[178,1,2]]]);
//# sourceMappingURL=main.a1163dc1.chunk.js.map